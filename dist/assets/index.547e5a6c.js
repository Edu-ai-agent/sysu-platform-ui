import{g as R,_ as S,__tla as U}from"./index.5cfbf42e.js";import{M as m,a3 as Y,r as h,l as Z,k as z,ak as t,o as g,a as _,b as k,$ as l,u as o,E as D,V as d,P as G,Z as H,_ as J,Y as K,ae as X,O as Q}from"./vue.86fe07f1.js";let x,W=Promise.all([(()=>{try{return U}catch{}})()]).then(async()=>{const v={class:"head-container"},w={class:"head-container-header"},b={class:"head-container-header-input"},L={key:0,class:"head-container-header-dropdown"},q=m({name:"query-tree"}),C=m({...q,props:{props:{type:Object,default:()=>({label:"name",children:"children",value:"id"})},placeholder:{type:String,default:""},loading:{type:Boolean,default:!1},query:{type:Function,required:!0},showExpand:{type:Boolean,default:!1}},emits:["search","nodeClick"],setup(u,{expose:V,emit:E}){const r=u,s=Y({List:[],localLoading:r.loading}),y=h(),i=h(),c=h(!0),$=Z(()=>["!h-[20px]","reset-margin","!text-gray-500","dark:!text-white","dark:hover:!text-primary"]),j=e=>{E("nodeClick",e)},f=()=>{if(r.query instanceof Function){s.localLoading=!0;const e=r.query(o(i));(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"&&e.then(a=>{s.List=a.data}).catch(a=>{R().error(a.msg)})}},B=e=>{c.value=e;const a=y.value.store._getAllNodes();for(let n=0;n<a.length;n++)a[n].expanded=e};return z(()=>{f()}),V({getdeptTree:f}),(e,a)=>{const n=t("el-input"),F=t("MoreFilled"),M=t("el-icon"),N=t("el-button"),O=t("el-dropdown-item"),P=t("el-dropdown-menu"),T=t("el-dropdown"),A=t("el-tree");return g(),_("div",v,[k("div",w,[k("div",b,[l(n,{modelValue:o(i),"onUpdate:modelValue":a[0]||(a[0]=p=>D(i)?i.value=p:null),"suffix-icon":"search",placeholder:u.placeholder,clearable:"",onChange:f},null,8,["modelValue","placeholder"])]),u.showExpand?(g(),_("div",L,[l(T,{"hide-on-click":!1},{dropdown:d(()=>[l(P,null,{default:d(()=>[l(O,null,{default:d(()=>[l(N,{class:G(o($)),link:"",type:"primary",icon:o(c)?"expand":"fold",onClick:a[1]||(a[1]=p=>B(!o(c)))},{default:d(()=>[H(J(o(c)?"\u6298\u53E0":"\u5C55\u5F00"),1)]),_:1},8,["class","icon"])]),_:1})]),_:1})]),default:d(()=>[l(M,{style:{transform:"rotate(90deg)"}},{default:d(()=>[l(F)]),_:1})]),_:1})])):K("",!0)]),l(A,{class:"mt20",data:o(s).List,props:r.props,"expand-on-click-node":!1,ref_key:"deptTreeRef",ref:y,loading:o(s).localLoading,"node-key":"id","highlight-current":"","default-expand-all":"",onNodeClick:j},X({_:2},[e.$slots.default?{name:"default",fn:d(({node:p,data:I})=>[Q(e.$slots,"default",{node:p,data:I},void 0,!0)]),key:"0"}:void 0]),1032,["data","props","loading"])])}}});x=S(C,[["__scopeId","data-v-6ebaafa2"]])});export{W as __tla,x as default};
