import{b as j,l as q,g as z,d as g,_ as M,__tla as S}from"./index.5cfbf42e.js";import{u as U,__tla as Y}from"./table.e10f4129.js";import{M as B,r as s,aD as F,k as G,ak as p,o as n,a as Q,$ as r,V as i,u as e,U as u,Y as o,b as Z,Z as f,aC as h}from"./vue.86fe07f1.js";let E,J=Promise.all([(()=>{try{return S}catch{}})(),(()=>{try{return Y}catch{}})()]).then(async()=>{const R={class:"layout-padding"},T={style:{"text-align":"center"}},I=B({__name:"index",setup(K){const{t:H}=j(),P=h(()=>g(()=>import("./generator.8d4c2724.js").then(async a=>(await a.__tla,a)),["assets/generator.8d4c2724.js","assets/table.e10f4129.js","assets/index.5cfbf42e.js","assets/vue.86fe07f1.js","assets/index.192907a2.css","assets/group.acb88119.js","assets/generator.40f0c1f0.css"])),V=h(()=>g(()=>import("./edit.f5e8085e.js").then(async a=>(await a.__tla,a)),["assets/edit.f5e8085e.js","assets/index.5cfbf42e.js","assets/vue.86fe07f1.js","assets/index.192907a2.css","assets/table.e10f4129.js","assets/fieldtype.4e969b75.js","assets/sortable.esm.9c3c89c5.js","assets/edit.c2252db8.css"])),A=h(()=>g(()=>import("./preview.43476380.js").then(async a=>(await a.__tla,a)),["assets/preview.43476380.js","assets/index.5cfbf42e.js","assets/vue.86fe07f1.js","assets/index.192907a2.css","assets/table.e10f4129.js","assets/commonFunction.b7b69811.js","assets/preview.89218d0d.css"])),w=s(),N=s(),x=F(),l=s(0),_=s(),c=s(),v=s(),d=s(),b=s(),m=async a=>{if(l.value!==a){if(l.value=a,a===0)await d.value.submitHandle();else if(a===1){const t=await N.value.submitHandle();_.value=t.id,b.value=t.generatorType}}},L=async()=>{await d.value.submitHandle(),w.value.openDialog(_.value)},O=async()=>{await d.value.submitHandle(),b.value==="0"&&q(`/gen/generator/download?tableIds=${[_.value].join(",")}`,{},`${c.value}.zip`),b.value==="1"&&U([_.value].join(",")).then(()=>{z().success(H("common.optSuccessText"))})};return G(()=>{c.value=x.query.tableName,v.value=x.query.dsName}),(a,t)=>{const C=p("el-step"),$=p("el-steps"),D=p("el-card"),y=p("el-button");return n(),Q("div",R,[r(D,{class:"layout-padding-auto",shadow:"hover"},{default:i(()=>[r($,{active:e(l),"finish-status":"success",simple:""},{default:i(()=>[r(C,{title:"\u57FA\u7840\u4FE1\u606F",onClick:t[0]||(t[0]=k=>m(0))}),r(C,{title:"\u6570\u636E\u4FEE\u6539",onClick:t[1]||(t[1]=k=>m(1))})]),_:1},8,["active"])]),_:1}),r(D,{class:"layout-padding-auto mt5",shadow:"hover"},{default:i(()=>[e(l)===0?(n(),u(e(P),{key:0,ref_key:"generatorRef",ref:N,tableName:e(c),dsName:e(v)},null,8,["tableName","dsName"])):o("",!0),e(l)===1?(n(),u(e(V),{key:1,ref_key:"editTableRef",ref:d,tableName:e(c),dsName:e(v)},null,8,["tableName","dsName"])):o("",!0),Z("div",T,[e(l)===0?(n(),u(y,{key:0,style:{"margin-top":"12px"},onClick:t[2]||(t[2]=k=>m(1))},{default:i(()=>[f("\u4E0B\u4E00\u6B65")]),_:1})):o("",!0),e(l)===1?(n(),u(y,{key:1,style:{"margin-top":"12px"},onClick:t[3]||(t[3]=k=>m(0))},{default:i(()=>[f("\u4E0A\u4E00\u6B65")]),_:1})):o("",!0),e(l)===1?(n(),u(y,{key:2,style:{"margin-top":"12px"},onClick:L},{default:i(()=>[f("\u4FDD\u5B58\u5E76\u9884\u89C8")]),_:1})):o("",!0),e(l)===1?(n(),u(y,{key:3,style:{"margin-top":"12px"},onClick:O},{default:i(()=>[f("\u4FDD\u5B58\u5E76\u751F\u6210")]),_:1})):o("",!0)])]),_:1}),r(e(A),{ref_key:"previewDialogRef",ref:w},null,512)])}}});E=M(I,[["__scopeId","data-v-e4f8ccf4"]])});export{J as __tla,E as default};
