import{c as $,b as H,_ as M,__tla as O}from"./index.5cfbf42e.js";import{M as p,az as R,r as U,aH as z,a3 as A,ak as l,o as B,a as P,$ as r,V as c,u as m,b as T,Z,_ as D,n as E}from"./vue.86fe07f1.js";let f,N=Promise.all([(()=>{try{return O}catch{}})()]).then(async()=>{const w={class:"layout-search-dialog"},_=p({name:"layoutBreadcrumbSearch"}),S=p({..._,setup(j,{expose:V}){const g=$(),{tagsViewRoutes:y}=R(g),h=U(),{t:L}=H(),d=z(),t=A({isShowSearch:!1,menuQuery:"",tagsViewList:[]}),v=()=>{t.menuQuery="",t.isShowSearch=!0,Q(),E(()=>{setTimeout(()=>{h.value.focus()})})},x=()=>{t.isShowSearch=!1},b=(e,a)=>{let s=e?t.tagsViewList.filter(k(e)):t.tagsViewList;a(s)},k=e=>a=>a.path.toLowerCase().indexOf(e.toLowerCase())>-1||L(a.name).indexOf(e.toLowerCase())>-1,Q=()=>{if(t.tagsViewList.length>0)return!1;y.value.map(e=>{var a;(a=e.meta)!=null&&a.isHide||t.tagsViewList.push({...e})})},C=e=>{var i,u,n;let{path:a,redirect:s}=e;(i=e.meta)!=null&&i.isLink&&!((u=e.meta)!=null&&u.isIframe)?window.open((n=e.meta)==null?void 0:n.isLink):s?d.push(s):d.push(a),x()};return V({openSearch:v}),(e,a)=>{const s=l("ele-Search"),i=l("el-icon"),u=l("SvgIcon"),n=l("el-autocomplete"),I=l("el-dialog");return B(),P("div",w,[r(I,{modelValue:m(t).isShowSearch,"onUpdate:modelValue":a[1]||(a[1]=o=>m(t).isShowSearch=o),"destroy-on-close":"","show-close":!1},{footer:c(()=>[r(n,{modelValue:m(t).menuQuery,"onUpdate:modelValue":a[0]||(a[0]=o=>m(t).menuQuery=o),"fetch-suggestions":b,placeholder:e.$t("user.searchPlaceholder"),ref_key:"layoutMenuAutocompleteRef",ref:h,onSelect:C,"fit-input-width":!0},{prefix:c(()=>[r(i,{class:"el-input__icon"},{default:c(()=>[r(s)]),_:1})]),default:c(({item:o})=>[T("div",null,[r(u,{name:o.meta.icon,class:"mr5"},null,8,["name"]),Z(" "+D(e.$t(o.name)),1)])]),_:1},8,["modelValue","placeholder"])]),_:1},8,["modelValue"])])}}});f=M(S,[["__scopeId","data-v-3ac76b33"]])});export{N as __tla,f as default};
