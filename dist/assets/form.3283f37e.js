import{b as S,g as h,d as j,_ as A,__tla as L}from"./index.5cfbf42e.js";import{p as M,a as Z,g as z,__tla as H}from"./template.82311744.js";import{M as g,r as p,a3 as J,ak as d,au as K,o as V,U as b,V as r,b as Q,$ as o,Z as v,_ as y,u as e,W,E as X,aC as Y,n as ee}from"./vue.86fe07f1.js";let D,ae=Promise.all([(()=>{try{return L}catch{}})(),(()=>{try{return H}catch{}})()]).then(async()=>{const P={class:"dialog-footer"},T=g({name:"GenTemplateDialog"}),N=g({...T,emits:["refresh"],setup(le,{expose:w,emit:x}){const C=Y(()=>j(()=>import("./index.7df34f40.js").then(async t=>(await t.__tla,t)),["assets/index.7df34f40.js","assets/vue.86fe07f1.js","assets/index.5cfbf42e.js","assets/index.192907a2.css","assets/index.3d09312f.css"])),{t:s}=S(),i=p(),u=p(!1),n=p(!1),a=J({id:"",templateName:"",generatorPath:"",templateDesc:"",templateCode:""}),U=p({templateName:[{required:!0,message:"\u6A21\u677F\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],generatorPath:[{required:!0,message:"\u6A21\u677F\u8DEF\u5F84\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],templateDesc:[{required:!0,message:"\u6A21\u677F\u63CF\u8FF0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),$=t=>{u.value=!0,a.id="",ee(()=>{var l;(l=i.value)==null||l.resetFields()}),t&&(a.id=t,B(t))},k=async()=>{if(!await i.value.validate().catch(()=>{}))return!1;try{n.value=!0,a.id?await M(a):await Z(a),h().success(s(a.id?"common.editSuccessText":"common.addSuccessText")),u.value=!1,x("refresh")}catch(t){h().error(t.msg)}finally{n.value=!1}},B=t=>{z(t).then(l=>{Object.assign(a,l.data)})};return w({openDialog:$}),(t,l)=>{const q=d("el-aside"),c=d("el-input"),_=d("el-form-item"),E=d("el-row"),R=d("el-main"),F=d("el-container"),G=d("el-form"),f=d("el-button"),I=d("el-dialog"),O=K("loading");return V(),b(I,{fullscreen:"",title:e(a).id?t.$t("common.editBtn"):t.$t("common.addBtn"),modelValue:e(u),"onUpdate:modelValue":l[5]||(l[5]=m=>X(u)?u.value=m:null)},{footer:r(()=>[Q("span",P,[o(f,{onClick:l[4]||(l[4]=m=>u.value=!1)},{default:r(()=>[v(y(t.$t("common.cancelButtonText")),1)]),_:1}),o(f,{onClick:k,type:"primary",disabled:e(n)},{default:r(()=>[v(y(t.$t("common.confirmButtonText")),1)]),_:1},8,["disabled"])])]),default:r(()=>[W((V(),b(G,{model:e(a),rules:e(U),formDialogRef:"",ref_key:"dataFormRef",ref:i},{default:r(()=>[o(F,null,{default:r(()=>[o(q,{width:"80%"},{default:r(()=>[o(e(C),{modelValue:e(a).templateCode,"onUpdate:modelValue":l[0]||(l[0]=m=>e(a).templateCode=m),theme:"darcula",mode:"velocity",height:"700"},null,8,["modelValue"])]),_:1}),o(R,null,{default:r(()=>[o(E,null,{default:r(()=>[o(_,{label:e(s)("template.templateName"),prop:"templateName"},{default:r(()=>[o(c,{placeholder:e(s)("template.inputTemplateNameTip"),modelValue:e(a).templateName,"onUpdate:modelValue":l[1]||(l[1]=m=>e(a).templateName=m)},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),o(_,{label:e(s)("template.desc"),prop:"templateDesc"},{default:r(()=>[o(c,{placeholder:e(s)("template.inputDescTip"),modelValue:e(a).templateDesc,"onUpdate:modelValue":l[2]||(l[2]=m=>e(a).templateDesc=m)},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),o(_,{label:e(s)("template.generatorPath"),prop:"generatorPath"},{default:r(()=>[o(c,{placeholder:e(s)("template.inputGeneratorPathTip"),modelValue:e(a).generatorPath,"onUpdate:modelValue":l[3]||(l[3]=m=>e(a).generatorPath=m)},null,8,["placeholder","modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])),[[O,e(n)]])]),_:1},8,["title","modelValue"])}}});D=A(N,[["__scopeId","data-v-f3eb6405"]])});export{ae as __tla,D as default};
