import{G as Q,u as U,e as o,H as W,_ as X,__tla as Y}from"./index.5cfbf42e.js";import{M as $,r as g,az as S,aD as Z,aH as ee,a3 as le,k as ne,I as se,aJ as te,i as ae,ak as M,o as m,a as c,$ as k,V as ie,b as h,F as oe,ac as ue,u as i,P as p,_ as P,n as re}from"./vue.86fe07f1.js";let b,de=Promise.all([(()=>{try{return Y}catch{}})()]).then(async()=>{const D={class:"layout-columns-aside"},N=["onClick","onMouseenter","title"],T={class:"columns-vertical-title font12"},j=["href"],R={class:"columns-vertical-title font12"},w=$({name:"layoutColumnsAside"}),z=$({...w,setup(me){const H=g([]),I=g(),f=Q(),E=U(),{routesList:C,isColumnsMenuHover:F,isColumnsNavHover:G}=S(f),{themeConfig:u}=S(E),L=Z(),_=ee(),s=le({columnsAsideList:[],liIndex:0,liOldIndex:null,liHoverIndex:null,liOldPath:null,difference:0,routeSplit:[]}),x=e=>{s.liIndex=e,I.value.style.top=`${H.value[e].offsetTop+s.difference}px`},J=(e,l)=>{x(l);let{path:n,redirect:a}=e;a?_.push(a):_.push(n)},V=(e,l)=>{if(!u.value.isColumnsMenuHoverPreload)return!1;let{path:n}=e;s.liOldPath=n,s.liOldIndex=l,s.liHoverIndex=l,o.emit("setSendColumnsChildren",d(n)),f.setColumnsMenuHover(!1),f.setColumnsNavHover(!0)},q=async()=>{await f.setColumnsNavHover(!1),setTimeout(()=>{!F&&!G&&o.emit("restoreDefault")},100)},A=e=>{re(()=>{x(e)})},B=()=>{var l;s.columnsAsideList=O(C.value);const e=d(L.path);if(Object.keys(e).length<=0)return!1;A((l=e.item)==null?void 0:l.k),o.emit("setSendColumnsChildren",e)},d=e=>{const l=y(C.value,e);let n={children:[]};return s.columnsAsideList.map((a,t)=>{a.path===l.path&&(a.k=t,n.item={...a},n.children=[{...a}],a.children&&(n.children=a.children))}),n},O=e=>e.filter(l=>{var n;return!((n=l.meta)!=null&&n.isHide)}).map(l=>(l=Object.assign({},l),l.children&&(l.children=O(l.children)),l)),K=e=>{const l=y(C.value,e),n=s.columnsAsideList.find(a=>a.path===l.path);if(!n)return!1;setTimeout(()=>{A(n.k)},0)},y=(e,l)=>{let n;return e.forEach(a=>{if(a.path===l){n=a;return}if(a.children&&y(a.children,l)){n=a;return}}),n};return ne(()=>{B(),o.on("restoreDefault",()=>{s.liOldIndex=null,s.liOldPath=null})}),se(()=>{o.off("restoreDefault",()=>{})}),te(e=>{K(e.path),o.emit("setSendColumnsChildren",d(e.path))}),ae(W.state,e=>{if(e.themeConfig.themeConfig.columnsAsideStyle==="columnsRound"?s.difference=3:s.difference=0,!e.routesList.isColumnsMenuHover&&!e.routesList.isColumnsNavHover)s.liHoverIndex=null,o.emit("setSendColumnsChildren",d(L.path));else{if(s.liHoverIndex=s.liOldIndex,!s.liOldPath)return!1;o.emit("setSendColumnsChildren",d(s.liOldPath))}},{deep:!0}),(e,l)=>{const n=M("SvgIcon"),a=M("el-scrollbar");return m(),c("div",D,[k(a,null,{default:ie(()=>[h("ul",{onMouseleave:l[0]||(l[0]=t=>q())},[(m(!0),c(oe,null,ue(i(s).columnsAsideList,(t,r)=>(m(),c("li",{key:r,onClick:v=>J(t,r),onMouseenter:v=>V(t,r),ref_for:!0,ref:v=>{v&&(i(H)[r]=v)},class:p({"layout-columns-active":i(s).liIndex===r,"layout-columns-hover":i(s).liHoverIndex===r}),title:e.$t(t.name)},[!t.meta.isLink||t.meta.isLink&&t.meta.isIframe?(m(),c("div",{key:0,class:p(i(u).columnsAsideLayout)},[k(n,{name:t.meta.icon},null,8,["name"]),h("div",T,P(e.$t(t.name)&&e.$t(t.name).length>=4?e.$t(t.name).substr(0,i(u).columnsAsideLayout==="columns-vertical"?4:3):e.$t(t.name)),1)],2)):(m(),c("div",{key:1,class:p(i(u).columnsAsideLayout)},[h("a",{href:t.meta.isLink,target:"_blank"},[k(n,{name:t.meta.icon},null,8,["name"]),h("div",R,P(e.$t(t.name)&&e.$t(t.name).length>=4?e.$t(t.name).substr(0,i(u).columnsAsideLayout==="columns-vertical"?4:3):e.$t(t.name)),1)],8,j)],2))],42,N))),128)),h("div",{ref_key:"columnsAsideActiveRef",ref:I,class:p(i(u).columnsAsideStyle)},null,2)],32)]),_:1})])}}});b=X(z,[["__scopeId","data-v-1262e5a0"]])});export{de as __tla,b as default};
