import{b as R,g as v,__tla as S}from"./index.5cfbf42e.js";import{p as j,a as M,g as O,__tla as P}from"./group.acb88119.js";import{l as Z,__tla as z}from"./template.82311744.js";import{M as x,r as m,a3 as A,ak as s,au as H,o as n,U as _,V as r,b as J,$ as u,Z as D,_ as w,u as a,W as K,a as Q,ac as W,F as X,E as Y,n as ee}from"./vue.86fe07f1.js";let I,ae=Promise.all([(()=>{try{return S}catch{}})(),(()=>{try{return P}catch{}})(),(()=>{try{return z}catch{}})()]).then(async()=>{let h,b;h={class:"dialog-footer"},b=x({name:"GenGroupDialog"}),I=x({...b,emits:["refresh"],setup(le,{expose:N,emit:T}){const{t:p}=R(),g=m(),d=m(!1),i=m(!1),y=m([]),e=A({id:"",groupName:"",groupDesc:"",templateId:[],putList:[]}),$=m({groupName:[{required:!0,message:"\u5206\u7EC4\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],templateId:[{required:!0,message:"\u6A21\u677F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),k=l=>{d.value=!0,e.id="",ee(()=>{g.value.resetFields()}),l&&(e.id=l,B(l)),G()},U=async()=>{if(!await g.value.validate().catch(()=>{}))return!1;try{i.value=!0,e.id?await j(e):await M(e),v().success(p(e.id?"common.editSuccessText":"common.addSuccessText")),d.value=!1,T("refresh")}catch(l){v().error(l.msg)}finally{i.value=!1}},B=l=>{O(l).then(t=>{Object.assign(e,t.data),e.templateId=[],t.data.templateList&&t.data.templateList.forEach(c=>{e.templateId.push(c.id)})})},G=()=>{Z().then(l=>{y.value=l.data})};return N({openDialog:k}),(l,t)=>{const c=s("el-input"),f=s("el-form-item"),F=s("el-option"),L=s("el-select"),q=s("el-form"),V=s("el-button"),C=s("el-dialog"),E=H("loading");return n(),_(C,{modelValue:a(d),"onUpdate:modelValue":t[4]||(t[4]=o=>Y(d)?d.value=o:null),title:a(e).id?l.$t("common.editBtn"):l.$t("common.addBtn"),width:"600"},{footer:r(()=>[J("span",h,[u(V,{onClick:t[3]||(t[3]=o=>d.value=!1)},{default:r(()=>[D(w(l.$t("common.cancelButtonText")),1)]),_:1}),u(V,{type:"primary",onClick:U,disabled:a(i)},{default:r(()=>[D(w(l.$t("common.confirmButtonText")),1)]),_:1},8,["disabled"])])]),default:r(()=>[K((n(),_(q,{ref_key:"dataFormRef",ref:g,model:a(e),rules:a($),formDialogRef:"","label-width":"90px"},{default:r(()=>[u(f,{label:a(p)("group.groupName"),prop:"groupName"},{default:r(()=>[u(c,{modelValue:a(e).groupName,"onUpdate:modelValue":t[0]||(t[0]=o=>a(e).groupName=o),placeholder:a(p)("group.inputGroupNameTip")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),u(f,{label:l.$t("group.templateType"),prop:"templateId"},{default:r(()=>[u(L,{modelValue:a(e).templateId,"onUpdate:modelValue":t[1]||(t[1]=o=>a(e).templateId=o),placeholder:l.$t("group.selectType"),class:"w100",clearable:"",multiple:""},{default:r(()=>[(n(!0),Q(X,null,W(a(y),o=>(n(),_(F,{key:o.id,label:o.templateName,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),u(f,{label:a(p)("group.groupDesc"),prop:"groupDesc"},{default:r(()=>[u(c,{type:"textarea",maxlength:"150",rows:"3",modelValue:a(e).groupDesc,"onUpdate:modelValue":t[2]||(t[2]=o=>a(e).groupDesc=o),placeholder:a(p)("group.inputGroupDescTip")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])),[[E,a(i)]])]),_:1},8,["modelValue","title"])}}})});export{ae as __tla,I as default};
