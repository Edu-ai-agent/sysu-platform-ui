import{u as Y,__tla as Z}from"./dict.b80056c9.js";import{b as H,g as U,r as w,__tla as J}from"./index.5cfbf42e.js";import{p as K,a as N,g as X,v as ee,__tla as le}from"./client.2194ccb4.js";import{M as z,r as g,a3 as ae,ak as u,au as te,o as n,U as p,V as i,b as re,$ as o,Z as _,_ as V,u as e,W as ie,a as R,ac as G,F as q,Y as f,E as oe,n as de}from"./vue.86fe07f1.js";import{__tla as ue}from"./dict.5633e5fc.js";let I,se=Promise.all([(()=>{try{return Z}catch{}})(),(()=>{try{return J}catch{}})(),(()=>{try{return le}catch{}})(),(()=>{try{return ue}catch{}})()]).then(async()=>{let T,v;T={class:"dialog-footer"},v=z({name:"SysOauthClientDetailsDialog"}),I=z({...v,emits:["refresh"],setup(ne,{expose:x,emit:F}){const{t:r}=H(),h=g(),m=g(!1),b=g(!1),{grant_types:B,common_status:$}=Y("grant_types","common_status"),l=ae({id:"",clientId:"",clientSecret:"",scope:"server",authorizedGrantTypes:[],webServerRedirectUri:"",authorities:"",accessTokenValidity:43200,refreshTokenValidity:2592001,autoapprove:"true",delFlag:"",createBy:"",updateBy:"",createTime:"",updateTime:"",tenantId:"",onlineQuantity:"1",captchaFlag:"1",encFlag:"1"}),C=g({clientId:[{required:!0,message:"\u7F16\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{validator:w.validatorLowercase,trigger:"blur"},{validator:(d,a,c)=>{ee(d,a,c,l.id!=="")},trigger:"blur"}],clientSecret:[{required:!0,message:"\u5BC6\u94A5\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{validator:w.validatorLower,trigger:"blur"}],scope:[{required:!0,message:"\u57DF\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],authorizedGrantTypes:[{required:!0,message:"\u6388\u6743\u6A21\u5F0F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],accessTokenValidity:[{required:!0,message:"\u4EE4\u724C\u65F6\u6548\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{type:"number",min:1,message:"\u4EE4\u724C\u65F6\u6548\u4E0D\u80FD\u5C0F\u4E8E\u4E00\u5C0F\u65F6",trigger:"blur"}],refreshTokenValidity:[{required:!0,message:"\u5237\u65B0\u65F6\u6548\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{type:"number",min:1,message:"\u5237\u65B0\u65F6\u6548\u4E0D\u80FD\u5C0F\u4E8E\u4E24\u5C0F\u65F6",trigger:"blur"}],autoapprove:[{required:!0,message:"\u81EA\u52A8\u653E\u884C\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],webServerRedirectUri:[{required:!0,message:"\u56DE\u8C03\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),D=d=>{m.value=!0,l.id="",de(()=>{var a;(a=h.value)==null||a.resetFields()}),d&&(l.id=d,L(d))},A=async()=>{if(!await h.value.validate().catch(()=>{}))return!1;try{b.value=!0,l.id?await K(l):await N(l),U().success(r(l.id?"common.editSuccessText":"common.addSuccessText")),m.value=!1,F("refresh")}catch(d){U().error(d.msg)}finally{b.value=!1}},L=d=>{X(d).then(a=>{Object.assign(l,a.data)})};return x({openDialog:D}),(d,a)=>{const c=u("el-input"),s=u("el-form-item"),O=u("el-option"),W=u("el-select"),k=u("el-input-number"),j=u("el-radio"),E=u("el-radio-group"),M=u("el-form"),S=u("el-button"),P=u("el-dialog"),Q=te("loading");return n(),p(P,{"close-on-click-modal":!1,title:e(l).id?d.$t("common.editBtn"):d.$t("common.addBtn"),width:"600",draggable:"",modelValue:e(m),"onUpdate:modelValue":a[10]||(a[10]=t=>oe(m)?m.value=t:null)},{footer:i(()=>[re("span",T,[o(S,{onClick:a[9]||(a[9]=t=>m.value=!1)},{default:i(()=>[_(V(d.$t("common.cancelButtonText")),1)]),_:1}),o(S,{onClick:A,type:"primary",disabled:e(b)},{default:i(()=>[_(V(d.$t("common.confirmButtonText")),1)]),_:1},8,["disabled"])])]),default:i(()=>[ie((n(),p(M,{model:e(l),rules:e(C),formDialogRef:"","label-width":"120px",ref_key:"dataFormRef",ref:h},{default:i(()=>[o(s,{label:e(r)("client.clientId"),prop:"clientId"},{default:i(()=>[o(c,{placeholder:e(r)("client.inputClientIdTip"),modelValue:e(l).clientId,"onUpdate:modelValue":a[0]||(a[0]=t=>e(l).clientId=t)},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),o(s,{label:e(r)("client.clientSecret"),prop:"clientSecret"},{default:i(()=>[o(c,{placeholder:e(r)("client.inputClientSecretTip"),modelValue:e(l).clientSecret,"onUpdate:modelValue":a[1]||(a[1]=t=>e(l).clientSecret=t)},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),o(s,{label:e(r)("client.scope"),prop:"scope"},{default:i(()=>[o(c,{placeholder:e(r)("client.inputScopeTip"),modelValue:e(l).scope,"onUpdate:modelValue":a[2]||(a[2]=t=>e(l).scope=t)},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),o(s,{label:e(r)("client.authorizedGrantTypes"),prop:"authorizedGrantTypes"},{default:i(()=>[o(W,{"collapse-tags":"","collapse-tags-tooltip":"",multiple:"",modelValue:e(l).authorizedGrantTypes,"onUpdate:modelValue":a[3]||(a[3]=t=>e(l).authorizedGrantTypes=t)},{default:i(()=>[(n(!0),R(q,null,G(e(B),(t,y)=>(n(),p(O,{key:y,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),o(s,{label:e(r)("client.accessTokenValidity"),prop:"accessTokenValidity"},{default:i(()=>[o(k,{placeholder:e(r)("client.inputAccessTokenValidityTip"),modelValue:e(l).accessTokenValidity,"onUpdate:modelValue":a[4]||(a[4]=t=>e(l).accessTokenValidity=t)},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),o(s,{label:e(r)("client.refreshTokenValidity"),prop:"refreshTokenValidity"},{default:i(()=>[o(k,{placeholder:e(r)("client.inputRefreshTokenValidityTip"),modelValue:e(l).refreshTokenValidity,"onUpdate:modelValue":a[5]||(a[5]=t=>e(l).refreshTokenValidity=t)},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),e(l).authorizedGrantTypes.includes("authorization_code")?(n(),p(s,{key:0,label:e(r)("client.autoapprove"),prop:"autoapprove"},{default:i(()=>[o(E,{modelValue:e(l).autoapprove,"onUpdate:modelValue":a[6]||(a[6]=t=>e(l).autoapprove=t)},{default:i(()=>[(n(!0),R(q,null,G(e($),(t,y)=>(n(),p(j,{key:y,label:t.value,border:""},{default:i(()=>[_(V(t.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])):f("",!0),e(l).authorizedGrantTypes.includes("authorization_code")?(n(),p(s,{key:1,label:e(r)("client.authorities"),prop:"authorities"},{default:i(()=>[o(c,{placeholder:e(r)("client.inputAuthoritiesTip"),modelValue:e(l).authorities,"onUpdate:modelValue":a[7]||(a[7]=t=>e(l).authorities=t)},null,8,["placeholder","modelValue"])]),_:1},8,["label"])):f("",!0),e(l).authorizedGrantTypes.includes("authorization_code")?(n(),p(s,{key:2,label:e(r)("client.webServerRedirectUri"),prop:"webServerRedirectUri"},{default:i(()=>[o(c,{placeholder:e(r)("client.inputWebServerRedirectUriTip"),modelValue:e(l).webServerRedirectUri,"onUpdate:modelValue":a[8]||(a[8]=t=>e(l).webServerRedirectUri=t)},null,8,["placeholder","modelValue"])]),_:1},8,["label"])):f("",!0)]),_:1},8,["model","rules"])),[[Q,e(b)]])]),_:1},8,["title","modelValue"])}}})});export{se as __tla,I as default};
